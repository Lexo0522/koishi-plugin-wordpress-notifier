<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WordPress æ–‡ç« è‡ªåŠ¨æ¨é€æ’ä»¶ - å®Œæ•´ä½¿ç”¨æ•™ç¨‹</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        h3 {
            color: #555;
            margin-top: 25px;
        }
        code {
            background-color: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
            font-size: 0.9em;
        }
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
        }
        pre code {
            background-color: transparent;
            padding: 0;
            color: #f8f8f2;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background-color: #3498db;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        ul, ol {
            padding-left: 20px;
        }
        li {
            margin: 5px 0;
        }
        blockquote {
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin: 20px 0;
            color: #666;
            background-color: #f9f9f9;
            padding: 10px 15px;
        }
        .output-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
            font-family: "Courier New", monospace;
            white-space: pre-wrap;
        }
        .feature-list {
            list-style-type: none;
            padding-left: 0;
        }
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .feature-list li:before {
            content: "âœ… ";
            margin-right: 8px;
        }
        .note {
            background-color: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
        }
        .note-title {
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

<h1>WordPress æ–‡ç« è‡ªåŠ¨æ¨é€æ’ä»¶ - å®Œæ•´ä½¿ç”¨æ•™ç¨‹</h1>

<h2>ç®€ä»‹</h2>

<p>WordPress æ–‡ç« è‡ªåŠ¨æ¨é€æ’ä»¶æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Koishi æœºå™¨äººæ’ä»¶ï¼Œå¯ä»¥è‡ªåŠ¨ä» WordPress ç½‘ç«™è·å–æœ€æ–°æ–‡ç« ï¼Œå¹¶æ¨é€åˆ°æŒ‡å®šçš„ QQ ç¾¤æˆ–ç§èŠã€‚é€šè¿‡ WordPress REST APIï¼Œæ’ä»¶èƒ½å¤Ÿå®æ—¶ç›‘æ§ç½‘ç«™å†…å®¹æ›´æ–°ï¼Œè®©æ‚¨çš„è¯»è€…ç¬¬ä¸€æ—¶é—´è·å–æœ€æ–°èµ„è®¯ã€‚</p>

<h2>åŠŸèƒ½ç‰¹æ€§</h2>

<ul class="feature-list">
    <li><strong>è‡ªåŠ¨è·å–æ–‡ç« </strong>ï¼šé€šè¿‡ WordPress REST API è‡ªåŠ¨è·å–æœ€æ–°æ–‡ç« </li>
    <li><strong>å®šæ—¶æ¨é€</strong>ï¼šæ”¯æŒè‡ªå®šä¹‰æ£€æŸ¥é—´éš”ï¼Œå®šæ—¶æ¨é€æ–°æ–‡ç« </li>
    <li><strong>æ‰‹åŠ¨æŸ¥è¯¢</strong>ï¼šæ”¯æŒæ‰‹åŠ¨æŸ¥è¯¢æœ€æ–°æ–‡ç« å’Œæ–‡ç« åˆ—è¡¨</li>
    <li><strong>@å…¨ä½“æˆå‘˜</strong>ï¼šæ”¯æŒåœ¨æ¨é€æ—¶ @å…¨ä½“æˆå‘˜</li>
    <li><strong>å»é‡æœºåˆ¶</strong>ï¼šå®Œå–„çš„å»é‡æœºåˆ¶ï¼Œé¿å…é‡å¤æ¨é€åŒä¸€ç¯‡æ–‡ç« </li>
    <li><strong>æ•°æ®åº“æŒä¹…åŒ–</strong>ï¼šä½¿ç”¨æ•°æ®åº“å­˜å‚¨å·²æ¨é€æ–‡ç« è®°å½•ï¼Œæœºå™¨äººé‡å¯ä¸ä¸¢å¤±</li>
    <li><strong>æœåŠ¡æ¶æ„</strong>ï¼šé‡‡ç”¨æœåŠ¡æ¨¡å¼æ¶æ„ï¼Œä¾¿äºæ‰©å±•å’Œç»´æŠ¤</li>
    <li><strong>æ¨é€å¼€å…³</strong>ï¼šæ”¯æŒè‡ªåŠ¨æ¨é€å¼€å…³ï¼Œçµæ´»æ§åˆ¶</li>
</ul>

<h2>å®‰è£…æ­¥éª¤</h2>

<h3>å‰ç½®è¦æ±‚</h3>

<ul>
    <li>å·²å®‰è£… Koishi æœºå™¨äººï¼ˆç‰ˆæœ¬ 4.18.10 æˆ–æ›´é«˜ï¼‰</li>
    <li>å·²é…ç½®å¥½ QQ é€‚é…å™¨ï¼ˆå¦‚ OneBotï¼‰</li>
    <li>WordPress ç½‘ç«™å·²å¯ç”¨ REST APIï¼ˆé»˜è®¤å¯ç”¨ï¼‰</li>
</ul>

<h3>å®‰è£…æ’ä»¶</h3>

<h4>æ–¹æ³•ä¸€ï¼šé€šè¿‡ Koishi æ§åˆ¶å°å®‰è£…</h4>

<ol>
    <li>æ‰“å¼€ Koishi æ§åˆ¶å°</li>
    <li>è¿›å…¥ã€Œæ’ä»¶å¸‚åœºã€</li>
    <li>æœç´¢ <code>wordpress-notifier</code></li>
    <li>ç‚¹å‡»å®‰è£…æŒ‰é’®</li>
</ol>

<h4>æ–¹æ³•äºŒï¼šé€šè¿‡å‘½ä»¤è¡Œå®‰è£…</h4>

<pre><code>npm install koishi-plugin-wordpress-notifier</code></pre>

<h4>æ–¹æ³•ä¸‰ï¼šæœ¬åœ°å®‰è£…</h4>

<p>å¦‚æœæ‚¨å·²ç»ä¸‹è½½äº†æ’ä»¶æºç ï¼š</p>

<pre><code>cd external/wordpress-notifier
npm install
npm run build</code></pre>

<h2>é…ç½®æ–¹æ³•</h2>

<h3>åŸºç¡€é…ç½®</h3>

<p>åœ¨ Koishi çš„é…ç½®æ–‡ä»¶ <code>koishi.yml</code> ä¸­æ·»åŠ æ’ä»¶é…ç½®ï¼š</p>

<pre><code>plugins:
  wordpress-notifier:
    wordpressUrl: 'https://your-wordpress-site.com'  # WordPress ç½‘ç«™åœ°å€
    interval: 3600000  # æ£€æŸ¥é—´éš”ï¼ˆæ¯«ç§’ï¼Œé»˜è®¤ 1 å°æ—¶ï¼‰
    targets:
      - '2801323326'  # æ¨é€ç›®æ ‡ï¼ˆç¾¤å·æˆ– QQ å·ï¼‰
    enableAutoPush: true  # æ˜¯å¦å¯ç”¨è‡ªåŠ¨æ¨é€
    mentionAll: false  # æ˜¯å¦ @å…¨ä½“æˆå‘˜
    maxArticles: 5  # æ¯æ¬¡æœ€å¤šæ¨é€çš„æ–‡ç« æ•°é‡</code></pre>

<h3>é…ç½®å‚æ•°è¯¦è§£</h3>

<table>
    <thead>
        <tr>
            <th>å‚æ•°</th>
            <th>ç±»å‹</th>
            <th>é»˜è®¤å€¼</th>
            <th>è¯´æ˜</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>wordpressUrl</code></td>
            <td>string</td>
            <td>å¿…å¡«</td>
            <td>WordPress ç½‘ç«™åœ°å€ï¼ˆä¾‹å¦‚ï¼šhttps://example.comï¼‰</td>
        </tr>
        <tr>
            <td><code>interval</code></td>
            <td>number</td>
            <td>3600000</td>
            <td>æ£€æŸ¥é—´éš”ï¼Œå•ä½æ¯«ç§’ï¼ˆé»˜è®¤ 1 å°æ—¶ = 3600000 æ¯«ç§’ï¼‰</td>
        </tr>
        <tr>
            <td><code>targets</code></td>
            <td>array</td>
            <td>å¿…å¡«</td>
            <td>æ¨é€ç›®æ ‡åˆ—è¡¨ï¼Œå¯ä»¥æ˜¯ç¾¤å·æˆ– QQ å·</td>
        </tr>
        <tr>
            <td><code>enableAutoPush</code></td>
            <td>boolean</td>
            <td>true</td>
            <td>æ˜¯å¦å¯ç”¨è‡ªåŠ¨æ¨é€</td>
        </tr>
        <tr>
            <td><code>mentionAll</code></td>
            <td>boolean</td>
            <td>false</td>
            <td>æ˜¯å¦åœ¨æ¨é€æ—¶ @å…¨ä½“æˆå‘˜</td>
        </tr>
        <tr>
            <td><code>maxArticles</code></td>
            <td>number</td>
            <td>5</td>
            <td>æ¯æ¬¡æœ€å¤šæ¨é€çš„æ–‡ç« æ•°é‡</td>
        </tr>
    </tbody>
</table>

<h3>é…ç½®ç¤ºä¾‹</h3>

<h4>ç¤ºä¾‹ 1ï¼šæ¨é€åˆ°å•ä¸ªç¾¤</h4>

<pre><code>plugins:
  wordpress-notifier:
    wordpressUrl: 'https://www.example.com'
    interval: 1800000  # 30 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
    targets:
      - '123456789'  # ç¾¤å·
    enableAutoPush: true
    mentionAll: true
    maxArticles: 3</code></pre>

<h4>ç¤ºä¾‹ 2ï¼šæ¨é€åˆ°å¤šä¸ªç›®æ ‡</h4>

<pre><code>plugins:
  wordpress-notifier:
    wordpressUrl: 'https://www.example.com'
    interval: 7200000  # 2 å°æ—¶æ£€æŸ¥ä¸€æ¬¡
    targets:
      - '123456789'  # ç¾¤å· 1
      - '987654321'  # ç¾¤å· 2
      - '111222333'  # QQ å·
    enableAutoPush: true
    mentionAll: false
    maxArticles: 5</code></pre>

<h2>ä½¿ç”¨å‘½ä»¤</h2>

<p>æ’ä»¶æä¾›äº†å¤šä¸ªå‘½ä»¤ï¼Œæ–¹ä¾¿ç”¨æˆ·ç®¡ç†å’Œä½¿ç”¨ï¼š</p>

<h3>1. æŸ¥çœ‹æœ€æ–°æ–‡ç« </h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress.latest</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šæ˜¾ç¤ºæœ€æ–°çš„ WordPress æ–‡ç« åˆ—è¡¨ï¼ŒåŒ…å«æ ‡é¢˜ã€æ—¥æœŸå’Œé“¾æ¥ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">ğŸ“° æœ€æ–°æ–‡ç« ï¼š

WordPress æ–‡ç« è‡ªåŠ¨æ¨é€æ’ä»¶
ğŸ“… 2024-01-14 10:30:00
ğŸ”— https://www.example.com/post-1

ä» GitHub è·å–å¹¶å±•ç¤ºæœ€æ–°å¼€æºä»“åº“
ğŸ“… 2024-01-13 15:20:00
ğŸ”— https://www.example.com/post-2</div>

<h3>2. æŸ¥çœ‹æ–‡ç« åˆ—è¡¨</h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress.list</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šæ˜¾ç¤ºæ–‡ç«  ID å’Œæ ‡é¢˜çš„ç®€æ´åˆ—è¡¨ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">ğŸ“š æ–‡ç« åˆ—è¡¨ï¼š

1. WordPress æ–‡ç« è‡ªåŠ¨æ¨é€æ’ä»¶
2. ä» GitHub è·å–å¹¶å±•ç¤ºæœ€æ–°å¼€æºä»“åº“
3. WordPress REST API å…¥é—¨æŒ‡å—</div>

<h3>3. æ‰‹åŠ¨æ¨é€æœ€æ–°æ–‡ç« </h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress.push</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šç«‹å³æ£€æŸ¥å¹¶æ¨é€æœ€æ–°æ–‡ç« ï¼ˆå³ä½¿è‡ªåŠ¨æ¨é€å·²å…³é—­ï¼‰ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">å·²æ£€æŸ¥å¹¶æ¨é€æœ€æ–°æ–‡ç« </div>

<h3>4. æŸ¥çœ‹æ’ä»¶çŠ¶æ€</h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress.status</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šæ˜¾ç¤ºå½“å‰æ’ä»¶é…ç½®çŠ¶æ€ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">ğŸ“Š WordPress æ¨é€æ’ä»¶çŠ¶æ€ï¼š
ğŸŒ ç½‘ç«™åœ°å€: https://www.example.com
â° æ£€æŸ¥é—´éš”: 3600 ç§’
ğŸ¯ æ¨é€ç›®æ ‡: 123456789
ğŸ”” è‡ªåŠ¨æ¨é€: å¼€å¯
ğŸ“¢ @å…¨ä½“æˆå‘˜: å…³é—­
ğŸ“ æœ€å¤šæ¨é€: 5 ç¯‡</div>

<h3>5. åˆ‡æ¢è‡ªåŠ¨æ¨é€å¼€å…³</h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress.toggle</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šå¼€å¯æˆ–å…³é—­è‡ªåŠ¨æ¨é€åŠŸèƒ½ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">è‡ªåŠ¨æ¨é€å·²å¼€å¯</div>

<p>æˆ–</p>

<div class="output-box">è‡ªåŠ¨æ¨é€å·²å…³é—­</div>

<h3>6. åˆ‡æ¢ @å…¨ä½“æˆå‘˜ å¼€å…³</h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress.mention</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šå¼€å¯æˆ–å…³é—­ @å…¨ä½“æˆå‘˜ åŠŸèƒ½ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">@å…¨ä½“æˆå‘˜ å·²å¼€å¯</div>

<p>æˆ–</p>

<div class="output-box">@å…¨ä½“æˆå‘˜ å·²å…³é—­</div>

<h3>7. æ’ä»¶èœå•</h3>

<p><strong>å‘½ä»¤</strong>ï¼š<code>/wordpress</code></p>

<p><strong>åŠŸèƒ½</strong>ï¼šæ˜¾ç¤ºæ’ä»¶èœå•å’Œæ‰€æœ‰å¯ç”¨å‘½ä»¤ã€‚</p>

<p><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š</p>

<div class="output-box">ğŸ“š WordPress æ¨é€æ’ä»¶èœå•ï¼š

ğŸ”¹ /wordpress.status - æŸ¥çœ‹æ’ä»¶çŠ¶æ€
ğŸ”¹ /wordpress.latest - æŸ¥çœ‹æœ€æ–°æ–‡ç« 
ğŸ”¹ /wordpress.list - æŸ¥çœ‹æ–‡ç« åˆ—è¡¨
ğŸ”¹ /wordpress.push - æ‰‹åŠ¨æ¨é€æœ€æ–°æ–‡ç« 
ğŸ”¹ /wordpress.toggle - åˆ‡æ¢è‡ªåŠ¨æ¨é€å¼€å…³
ğŸ”¹ /wordpress.mention - åˆ‡æ¢ @å…¨ä½“æˆå‘˜ å¼€å…³

ğŸ’¡ æç¤ºï¼šæ‰€æœ‰å‘½ä»¤éƒ½éœ€è¦åŠ  / å‰ç¼€</div>

<h2>å·¥ä½œåŸç†</h2>

<h3>1. æ•°æ®åº“åˆå§‹åŒ–</h3>

<p>æ’ä»¶å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨åˆ›å»ºæ•°æ®åº“è¡¨ <code>wordpress_posts</code>ï¼Œç”¨äºè®°å½•å·²æ¨é€çš„æ–‡ç« ï¼š</p>

<pre><code>CREATE TABLE wordpress_posts (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  postId INTEGER NOT NULL,
  pushedAt TIMESTAMP NOT NULL
);</code></pre>

<h3>2. å®šæ—¶æ£€æŸ¥æµç¨‹</h3>

<ol>
    <li><strong>å®šæ—¶å™¨è§¦å‘</strong>ï¼šæ¯éš”æŒ‡å®šæ—¶é—´ï¼ˆé»˜è®¤ 1 å°æ—¶ï¼‰è§¦å‘ä¸€æ¬¡æ£€æŸ¥</li>
    <li><strong>è·å–æ–‡ç« </strong>ï¼šé€šè¿‡ WordPress REST API è·å–æœ€æ–°æ–‡ç« </li>
    <li><strong>å»é‡æ£€æŸ¥</strong>ï¼šæ£€æŸ¥æ¯ç¯‡æ–‡ç« æ˜¯å¦å·²æ¨é€è¿‡</li>
    <li><strong>æ ¼å¼åŒ–æ¶ˆæ¯</strong>ï¼šå°†æ–‡ç« ä¿¡æ¯æ ¼å¼åŒ–ä¸ºæ˜“è¯»çš„æ¶ˆæ¯</li>
    <li><strong>æ¨é€æ¶ˆæ¯</strong>ï¼šå°†æ¶ˆæ¯å‘é€åˆ°æ‰€æœ‰é…ç½®çš„ç›®æ ‡</li>
    <li><strong>è®°å½•æ¨é€</strong>ï¼šå°†æ–‡ç«  ID è®°å½•åˆ°æ•°æ®åº“ä¸­</li>
</ol>

<h3>3. REST API è¯·æ±‚</h3>

<p>æ’ä»¶é€šè¿‡ä»¥ä¸‹ URL è·å–æ–‡ç« ï¼š</p>

<pre><code>https://your-wordpress-site.com/wp-json/wp/v2/posts?per_page=5&orderby=date&order=desc</code></pre>

<p>å‚æ•°è¯´æ˜ï¼š</p>

<ul>
    <li><code>per_page=5</code>ï¼šæ¯æ¬¡è·å– 5 ç¯‡æ–‡ç« </li>
    <li><code>orderby=date</code>ï¼šæŒ‰æ—¥æœŸæ’åº</li>
    <li><code>order=desc</code>ï¼šé™åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰</li>
</ul>

<h2>å¸¸è§é—®é¢˜</h2>

<h3>1. ä¸ºä»€ä¹ˆæ–‡ç« æ²¡æœ‰æ¨é€ï¼Ÿ</h3>

<p><strong>å¯èƒ½åŸå› </strong>ï¼š</p>

<ul>
    <li>WordPress ç½‘ç«™çš„ REST API æœªå¯ç”¨</li>
    <li>æœºå™¨äººæ²¡æœ‰å‘ç›®æ ‡ç¾¤æˆ–ç§èŠå‘é€æ¶ˆæ¯çš„æƒé™</li>
    <li>æ–‡ç« å·²ç»è¢«æ¨é€è¿‡ï¼ˆæ•°æ®åº“ä¸­æœ‰è®°å½•ï¼‰</li>
    <li>è‡ªåŠ¨æ¨é€åŠŸèƒ½å·²å…³é—­</li>
</ul>

<p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p>

<ul>
    <li>æ£€æŸ¥ WordPress ç½‘ç«™è®¾ç½®ï¼Œç¡®ä¿ REST API å·²å¯ç”¨</li>
    <li>ç¡®è®¤æœºå™¨äººåœ¨ç›®æ ‡ç¾¤ä¸­æœ‰å‘é€æ¶ˆæ¯æƒé™</li>
    <li>ä½¿ç”¨ <code>/wordpress.push</code> å‘½ä»¤æ‰‹åŠ¨è§¦å‘æ¨é€</li>
    <li>ä½¿ç”¨ <code>/wordpress.status</code> æ£€æŸ¥æ’ä»¶çŠ¶æ€</li>
</ul>

<h3>2. å¦‚ä½•ä¿®æ”¹æ£€æŸ¥é—´éš”ï¼Ÿ</h3>

<p>åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ <code>interval</code> å‚æ•°ï¼š</p>

<pre><code>plugins:
  wordpress-notifier:
    interval: 1800000  # 30 åˆ†é’Ÿ</code></pre>

<div class="note">
    <div class="note-title">å»ºè®®</div>
    <ul>
        <li>é¢‘ç¹æ›´æ–°çš„ç½‘ç«™ï¼šè®¾ç½®è¾ƒçŸ­é—´éš”ï¼ˆå¦‚ 30 åˆ†é’Ÿï¼‰</li>
        <li>æ›´æ–°è¾ƒå°‘çš„ç½‘ç«™ï¼šè®¾ç½®è¾ƒé•¿é—´éš”ï¼ˆå¦‚ 2-4 å°æ—¶ï¼‰</li>
        <li>é¿å…è®¾ç½®è¿‡çŸ­é—´éš”ï¼Œä»¥å…é¢‘ç¹è¯·æ±‚ WordPress ç½‘ç«™</li>
    </ul>
</div>

<h3>3. @å…¨ä½“æˆå‘˜ åŠŸèƒ½ä¸ç”Ÿæ•ˆï¼Ÿ</h3>

<p><strong>å¯èƒ½åŸå› </strong>ï¼š</p>

<ul>
    <li>æœºå™¨äººæ²¡æœ‰ @å…¨ä½“æˆå‘˜ çš„æƒé™</li>
    <li><code>mentionAll</code> é…ç½®è®¾ç½®ä¸º <code>false</code></li>
</ul>

<p><strong>è§£å†³æ–¹æ³•</strong>ï¼š</p>

<ul>
    <li>åœ¨ç¾¤è®¾ç½®ä¸­æˆäºˆæœºå™¨äºº @å…¨ä½“æˆå‘˜ æƒé™</li>
    <li>ä½¿ç”¨ <code>/wordpress.mention</code> å‘½ä»¤å¼€å¯åŠŸèƒ½</li>
    <li>æˆ–åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½® <code>mentionAll: true</code></li>
</ul>

<h3>4. å¦‚ä½•æ¸…ç©ºå·²æ¨é€æ–‡ç« çš„è®°å½•ï¼Ÿ</h3>

<p>æ’ä»¶ä½¿ç”¨æ•°æ®åº“å­˜å‚¨è®°å½•ï¼Œå¦‚éœ€æ¸…ç©ºï¼š</p>

<pre><code># æ–¹æ³• 1ï¼šé€šè¿‡æ•°æ®åº“ç®¡ç†å·¥å…·
DELETE FROM wordpress_posts;

# æ–¹æ³• 2ï¼šé‡å¯æ’ä»¶ï¼ˆä¸æ¨èï¼Œä¼šä¸¢å¤±æ‰€æœ‰è®°å½•ï¼‰</code></pre>

<h3>5. æ”¯æŒæ¨é€åˆ°å¤šä¸ªç¾¤å—ï¼Ÿ</h3>

<p>æ”¯æŒï¼åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¤šä¸ªç›®æ ‡ï¼š</p>

<pre><code>targets:
  - 'ç¾¤å·1'
  - 'ç¾¤å·2'
  - 'QQå·'</code></pre>

<h3>6. æœºå™¨äººé‡å¯åä¼šé‡å¤æ¨é€å—ï¼Ÿ</h3>

<p>ä¸ä¼šï¼æ’ä»¶ä½¿ç”¨æ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨å·²æ¨é€çš„æ–‡ç« è®°å½•ï¼Œæœºå™¨äººé‡å¯åä¸ä¼šé‡å¤æ¨é€ã€‚</p>

<h2>é«˜çº§é…ç½®</h2>

<h3>è‡ªå®šä¹‰æ¶ˆæ¯æ ¼å¼</h3>

<p>å¦‚æœéœ€è¦è‡ªå®šä¹‰æ¨é€æ¶ˆæ¯æ ¼å¼ï¼Œå¯ä»¥ä¿®æ”¹æ’ä»¶æºç ä¸­çš„ <code>formatPostMessage</code> å‡½æ•°ï¼š</p>

<pre><code>function formatPostMessage(post: WordPressPost, mention: boolean = false): string {
  const title = post.title.rendered.replace(/&lt;[^&gt;]*&gt;/g, '')
  const excerpt = post.excerpt.rendered.replace(/&lt;[^&gt;]*&gt;/g, '').substring(0, 100)
  const date = new Date(post.date).toLocaleString('zh-CN')
  
  let message = ''
  if (mention && config.mentionAll) {
    message += '@å…¨ä½“æˆå‘˜\n'
  }
  message += `ğŸ“ ${title}\n`
  message += `ğŸ“… ${date}\n`
  message += `ğŸ“„ ${excerpt}...\n`
  message += `ğŸ”— ${post.link}`
  
  return message
}</code></pre>

<h3>æ·»åŠ æ›´å¤šæ–‡ç« ä¿¡æ¯</h3>

<p>å¦‚æœéœ€è¦æ˜¾ç¤ºæ›´å¤šæ–‡ç« ä¿¡æ¯ï¼ˆå¦‚ä½œè€…ã€åˆ†ç±»ç­‰ï¼‰ï¼Œå¯ä»¥æ‰©å±•æ¥å£å’Œæ¶ˆæ¯æ ¼å¼ï¼š</p>

<pre><code>export interface WordPressPost {
  id: number
  title: {
    rendered: string
  }
  link: string
  date: string
  excerpt: {
    rendered: string
  }
  author: number  // ä½œè€… ID
  categories: number[]  // åˆ†ç±» ID
  tags: number[]  // æ ‡ç­¾ ID
}</code></pre>

<h2>æ€§èƒ½ä¼˜åŒ–å»ºè®®</h2>

<ol>
    <li><strong>åˆç†è®¾ç½®æ£€æŸ¥é—´éš”</strong>ï¼šæ ¹æ®ç½‘ç«™æ›´æ–°é¢‘ç‡è®¾ç½®åˆé€‚çš„æ£€æŸ¥é—´éš”</li>
    <li><strong>é™åˆ¶æ–‡ç« æ•°é‡</strong>ï¼šé€šè¿‡ <code>maxArticles</code> å‚æ•°é™åˆ¶æ¯æ¬¡è·å–çš„æ–‡ç« æ•°é‡</li>
    <li><strong>ä½¿ç”¨ CDN</strong>ï¼šå¦‚æœ WordPress ç½‘ç«™ä½¿ç”¨ CDNï¼Œå¯ä»¥åŠ å¿« API å“åº”é€Ÿåº¦</li>
    <li><strong>ç¼“å­˜ä¼˜åŒ–</strong>ï¼šæ’ä»¶å·²å†…ç½®å»é‡æœºåˆ¶ï¼Œé¿å…é‡å¤æ¨é€</li>
</ol>

<h2>æ€»ç»“</h2>

<p>WordPress æ–‡ç« è‡ªåŠ¨æ¨é€æ’ä»¶æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€æ˜“äºä½¿ç”¨çš„ Koishi æ’ä»¶ï¼Œå¯ä»¥å¸®åŠ©æ‚¨è‡ªåŠ¨å°† WordPress ç½‘ç«™çš„æœ€æ–°æ–‡ç« æ¨é€åˆ° QQ ç¾¤æˆ–ç§èŠã€‚é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†æ•™ç¨‹ï¼Œæ‚¨åº”è¯¥å·²ç»æŒæ¡äº†æ’ä»¶çš„å®‰è£…ã€é…ç½®å’Œä½¿ç”¨æ–¹æ³•ã€‚</p>

<p>å¦‚æœæ‚¨åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œæ¬¢è¿åœ¨ GitHub ä»“åº“ä¸­æäº¤ Issueï¼Œæˆ–è€…é€šè¿‡æ’ä»¶æä¾›çš„å‘½ä»¤æŸ¥çœ‹çŠ¶æ€å’Œæ—¥å¿—ã€‚</p>

<h2>ç›¸å…³é“¾æ¥</h2>

<ul>
    <li>æ’ä»¶ä»“åº“ï¼š<a href="https://github.com/Lexo0522/koishi-plugin-wordpress-notifier">https://github.com/Lexo0522/koishi-plugin-wordpress-notifier</a></li>
    <li>Koishi å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://koishi.js.org/">https://koishi.js.org/</a></li>
    <li>WordPress REST API æ–‡æ¡£ï¼š<a href="https://developer.wordpress.org/rest-api/">https://developer.wordpress.org/rest-api/</a></li>
</ul>

<hr>

<p><strong>ç‰ˆæœ¬</strong>ï¼š1.1.0<br>
<strong>æ›´æ–°æ—¥æœŸ</strong>ï¼š2024-01-14<br>
<strong>ä½œè€…</strong>ï¼šYour Name</p>

</body>
</html>